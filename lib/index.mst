<!DOCTYPE HTML>
<html>
<head>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<style>
		li { margin-bottom: 1em; }
		.time { font-weight: bold }
	</style>
</head>
<body>
	<ol>
		{{ #trips }}
			<li>
				{{ route.shortName }} from {{ srcStop.name }}
				<div class="time">
					in {{ srcStop.minutesUntil }} minutes
				</div>
				<div class="time">
					Arrive at <span class="timestamp">{{ destStop.arrivalTimestamp }}</span>
				</div>
			</li>
		{{ /trips }}
	</ol>
	<script>
		Array.prototype.forEach.call(document.querySelectorAll(".timestamp"),
			function(node) {
				// Convert to browser local time and format
				var d = new Date(parseInt(node.textContent, 10));
				var minutes = d.getMinutes() + "";

				if (minutes.length === 1) {
					minutes += "0";
				}

				node.textContent = d.getHours() + ":" + minutes;
			});
	</script>
</body>
</htm>
